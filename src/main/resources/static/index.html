<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –¶–µ–Ω—Ç—Ä</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }

        h2 {
            color: #34495e;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-top: 0;
        }

        .section {
            background: white;
            padding: 25px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .cards {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .card {
            padding: 20px;
            border-radius: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-width: 200px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .card.negative {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .card.positive {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .amount {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }

        .list {
            margin: 15px 0;
        }

        .list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid;
            transition: transform 0.2s;
        }

        .list-item:hover {
            transform: translateX(5px);
        }

        .list-item.negative {
            border-left-color: #e74c3c;
        }

        .list-item.positive {
            border-left-color: #27ae60;
        }

        .loading {
            text-align: center;
            padding: 50px;
            font-size: 18px;
            color: #7f8c8d;
        }

        .error {
            color: #e74c3c;
            text-align: center;
            padding: 20px;
            background: #fdf2f2;
            border-radius: 8px;
            margin: 20px 0;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .nav button {
            padding: 12px 25px;
            margin: 0 8px;
            border: none;
            background: #ecf0f1;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav button.active {
            background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .nav button:hover:not(.active) {
            background: #bdc3c7;
            transform: translateY(-1px);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—á–µ—Ç–æ–≤ */
        .account-card {
            background: white;
            padding: 25px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #3498db;
            transition: transform 0.3s ease;
        }

        .account-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .account-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .account-name {
            font-size: 22px;
            font-weight: bold;
            color: #2c3e50;
        }

        .account-balance {
            font-size: 28px;
            font-weight: bold;
        }

        .account-type {
            color: #7f8c8d;
            font-style: italic;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .account-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-edit {
            background: #f39c12;
            color: white;
        }

        .btn-delete {
            background: #e74c3c;
            color: white;
        }

        .btn-add {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
            padding: 12px 25px;
            font-size: 16px;
            margin: 15px 0;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-edit:hover {
            background: #d68910;
            transform: translateY(-1px);
        }

        .btn-delete:hover {
            background: #c0392b;
            transform: translateY(-1px);
        }

        .btn-add:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –¥–æ—Ö–æ–¥–æ–≤ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .stat-card.income {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .stat-card.expense {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 16px;
            opacity: 0.9;
        }

        /* –°–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü */
        .page {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .nav {
                flex-direction: column;
                gap: 10px;
            }

            .nav button {
                margin: 5px 0;
            }

            .cards {
                flex-direction: column;
            }

            .account-header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
<h1>üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –¶–µ–Ω—Ç—Ä</h1>

<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<div class="nav">
    <button onclick="showPage('dashboard')" class="active">üìä –ì–ª–∞–≤–Ω–∞—è</button>
    <button onclick="showPage('accounts')">üí≥ –°—á–µ—Ç–∞</button>
    <button onclick="showPage('expenses')">üìâ –†–∞—Å—Ö–æ–¥—ã</button>
    <button onclick="showPage('incomes')">üìà –î–æ—Ö–æ–¥—ã</button>
    <button onclick="showPage('reports')">üìã –û—Ç—á–µ—Ç—ã</button>
</div>

<div id="loading" class="loading" style="display: none;">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>

<!-- –°–¢–†–ê–ù–ò–¶–ê –ì–õ–ê–í–ù–ê–Ø -->
<div id="dashboard-page" class="page active">
    <div class="section">
        <h2>üìä –û–±–∑–æ—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤</h2>
        <div id="wallets" class="cards"></div>
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div class="section">
            <h2>üìâ –†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h2>
            <div id="expenses-list" class="list"></div>
        </div>

        <div class="section">
            <h2>üìà –î–æ—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h2>
            <div id="incomes-list" class="list"></div>
        </div>
    </div>
</div>

<!-- –°–¢–†–ê–ù–ò–¶–ê –°–ß–ï–¢–û–í -->
<div id="accounts-page" class="page">
    <div class="section">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
            <h2>üí≥ –ú–æ–∏ –°—á–µ—Ç–∞</h2>
            <button class="btn btn-add" onclick="showAddAccountForm()">
                ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—á–µ—Ç
            </button>
        </div>

        <div id="accounts-list">
            <!-- –°—á–µ—Ç–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
        </div>
    </div>
</div>

<!-- –°–¢–†–ê–ù–ò–¶–ê –†–ê–°–•–û–î–û–í -->
<div id="expenses-page" class="page">
    <div class="section">
        <h2>üìâ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤</h2>
        <div class="stats-grid">
            <div class="stat-card expense">
                <div class="stat-label">–û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã</div>
                <div class="stat-value" id="total-expenses">0 ‚ÇΩ</div>
            </div>
        </div>
        <div id="expenses-detailed-list" class="list" style="margin-top: 20px;"></div>
    </div>
</div>

<!-- –°–¢–†–ê–ù–ò–¶–ê –î–û–•–û–î–û–í -->
<div id="incomes-page" class="page">
    <div class="section">
        <h2>üìà –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Ö–æ–¥–æ–≤</h2>
        <div class="stats-grid">
            <div class="stat-card income">
                <div class="stat-label">–û–±—â–∏–µ –¥–æ—Ö–æ–¥—ã</div>
                <div class="stat-value" id="total-incomes">0 ‚ÇΩ</div>
            </div>
        </div>
        <div id="incomes-detailed-list" class="list" style="margin-top: 20px;"></div>
    </div>
</div>

<!-- –°–¢–†–ê–ù–ò–¶–ê –û–¢–ß–ï–¢–û–í -->
<div id="reports-page" class="page">
    <div class="section">
        <h2>üìã –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã</h2>
        <div style="text-align: center; padding: 40px;">
            <div style="font-size: 48px; margin-bottom: 20px;">üìä</div>
            <h3>–°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–æ–≤ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h3>
            <p>–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</p>
        </div>
    </div>
</div>

<div id="error" class="error" style="display: none;"></div>

<script>
    const currentUserId = 1;
    let currentPage = 'dashboard';

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
    function showPage(pageName) {
        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });

        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
        document.querySelectorAll('.nav button').forEach(button => {
            button.classList.remove('active');
        });

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        const pageElement = document.getElementById(pageName + '-page');
        if (pageElement) {
            pageElement.classList.add('active');
        }

        // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
        if (event && event.target) {
            event.target.classList.add('active');
        }

        currentPage = pageName;

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        switch(pageName) {
            case 'dashboard':
                loadDashboard(currentUserId);
                break;
            case 'accounts':
                loadAccountsData(currentUserId);
                break;
            case 'expenses':
                loadExpensesData(currentUserId);
                break;
            case 'incomes':
                loadIncomesData(currentUserId);
                break;
        }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–Ω–µ–≥
    function formatMoney(amount) {
        return new Intl.NumberFormat('ru-RU', {
            style: 'currency',
            currency: 'RUB',
            minimumFractionDigits: 0
        }).format(amount);
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    async function loadDashboard(userId) {
        try {
            showLoading(true);
            hideError();

            const response = await fetch(`http://localhost:8080/api/dashboard/${userId}`);
            if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ' + response.status);

            const data = await response.json();
            displayDashboardData(data);

        } catch (error) {
            showError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞: ' + error.message);
        }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å—á–µ—Ç–æ–≤
    async function loadAccountsData(userId) {
        try {
            showLoading(true);
            hideError();

            const response = await fetch(`http://localhost:8080/api/dashboard/wallets/${userId}`);
            if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ' + response.status);

            const data = await response.json();
            displayAccountsData(data);

        } catch (error) {
            showError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—á–µ—Ç–æ–≤: ' + error.message);
        }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
    async function loadExpensesData(userId) {
        try {
            showLoading(true);
            hideError();

            const response = await fetch(`http://localhost:8080/api/dashboard/expenses/${userId}`);
            if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ' + response.status);

            const data = await response.json();
            displayExpensesData(data);

        } catch (error) {
            showError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤: ' + error.message);
        }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Ö–æ–¥–æ–≤
    async function loadIncomesData(userId) {
        try {
            showLoading(true);
            hideError();

            const response = await fetch(`http://localhost:8080/api/dashboard/incomes/${userId}`);
            if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ' + response.status);

            const data = await response.json();
            displayIncomesData(data);

        } catch (error) {
            showError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ—Ö–æ–¥–æ–≤: ' + error.message);
        }
    }

    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    function displayDashboardData(data) {
        showLoading(false);

        // –ë–∞–ª–∞–Ω—Å –ø–æ —Å—á–µ—Ç–∞–º
        const walletsContainer = document.getElementById('wallets');
        if (walletsContainer) {
            walletsContainer.innerHTML = '';
            if (data.walletBalanceDtoList) {
                data.walletBalanceDtoList.forEach(wallet => {
                    const card = document.createElement('div');
                    card.className = `card ${wallet.balance < 0 ? 'negative' : 'positive'}`;
                    card.innerHTML = `
                        <h3>${wallet.name || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</h3>
                        <div class="amount">${formatMoney(wallet.balance || 0)}</div>
                        <small>${getAccountTypeName(wallet.typeCode)}</small>
                    `;
                    walletsContainer.appendChild(card);
                });
            }
        }

        // –†–∞—Å—Ö–æ–¥—ã
        const expensesContainer = document.getElementById('expenses-list');
        if (expensesContainer) {
            expensesContainer.innerHTML = '';
            if (data.expenseDtoList) {
                data.expenseDtoList.forEach(expense => {
                    const item = document.createElement('div');
                    item.className = 'list-item negative';
                    item.innerHTML = `
                        <span>${expense.name || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</span>
                        <span class="amount">${formatMoney(expense.amount || 0)}</span>
                    `;
                    expensesContainer.appendChild(item);
                });
            }
        }

        // –î–æ—Ö–æ–¥—ã
        const incomesContainer = document.getElementById('incomes-list');
        if (incomesContainer) {
            incomesContainer.innerHTML = '';
            if (data.incomeDtoList) {
                data.incomeDtoList.forEach(income => {
                    const item = document.createElement('div');
                    item.className = 'list-item positive';
                    item.innerHTML = `
                        <span>${income.name || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</span>
                        <span class="amount">${formatMoney(income.amount || 0)}</span>
                    `;
                    incomesContainer.appendChild(item);
                });
            }
        }
    }

    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—á–µ—Ç–æ–≤
    function displayAccountsData(data) {
        showLoading(false);
        const accountsContainer = document.getElementById('accounts-list');
        if (!accountsContainer) return;

        accountsContainer.innerHTML = '';

        if (data.list) {
            data.list.forEach(account => {
                const accountCard = document.createElement('div');
                accountCard.className = 'account-card';
                accountCard.innerHTML = `
                    <div class="account-header">
                        <div class="account-name">${account.name || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</div>
                        <div class="account-balance ${(account.balance || 0) < 0 ? 'negative' : 'positive'}">
                            ${formatMoney(account.balance || 0)}
                        </div>
                    </div>
                    <div class="account-type">–¢–∏–ø: ${getAccountTypeName(account.typeCode)}</div>
                    <div class="account-actions">
                        <button class="btn btn-edit" onclick="editAccount(${account.id})">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="btn btn-delete" onclick="deleteAccount(${account.id})">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `;
                accountsContainer.appendChild(accountCard);
            });
        }
    }

    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞—Å—Ö–æ–¥–æ–≤
    function displayExpensesData(data) {
        showLoading(false);
        const expensesContainer = document.getElementById('expenses-detailed-list');
        const totalExpensesElement = document.getElementById('total-expenses');

        if (!expensesContainer) return;

        expensesContainer.innerHTML = '';
        let totalExpenses = 0;

        if (data.list) {
            data.list.forEach(expense => {
                totalExpenses += (expense.amount || 0);
                const item = document.createElement('div');
                item.className = 'list-item negative';
                item.innerHTML = `
                    <span>${expense.name || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</span>
                    <span class="amount">${formatMoney(expense.amount || 0)}</span>
                `;
                expensesContainer.appendChild(item);
            });
        }

        if (totalExpensesElement) {
            totalExpensesElement.textContent = formatMoney(totalExpenses);
        }
    }

    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ—Ö–æ–¥–æ–≤
    function displayIncomesData(data) {
        showLoading(false);
        const incomesContainer = document.getElementById('incomes-detailed-list');
        const totalIncomesElement = document.getElementById('total-incomes');

        if (!incomesContainer) return;

        incomesContainer.innerHTML = '';
        let totalIncomes = 0;

        if (data.list) {
            data.list.forEach(income => {
                totalIncomes += (income.amount || 0);
                const item = document.createElement('div');
                item.className = 'list-item positive';
                item.innerHTML = `
                    <span>${income.name || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</span>
                    <span class="amount">${formatMoney(income.amount || 0)}</span>
                `;
                incomesContainer.appendChild(item);
            });
        }

        if (totalIncomesElement) {
            totalIncomesElement.textContent = formatMoney(totalIncomes);
        }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∏–ø–∞ —Å—á–µ—Ç–∞
    function getAccountTypeName(typeCode) {
        const types = {
            'CASH': 'üíµ –§–∏–∑–∏—á–µ—Å–∫–∏–π',
            'BANK': 'üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç',
            'CREDIT': 'üí≥ –ö—Ä–µ–¥–∏—Ç–Ω—ã–π —Å—á–µ—Ç',
            'PHYSICAL': 'üíµ –§–∏–∑–∏—á–µ—Å–∫–∏–π'
        };
        return types[typeCode] || typeCode || '‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø';
    }

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∑–∞–≥—Ä—É–∑–∫–∏
    function showLoading(show) {
        const loadingElement = document.getElementById('loading');
        if (loadingElement) {
            loadingElement.style.display = show ? 'block' : 'none';
        }
    }

    function hideError() {
        const errorElement = document.getElementById('error');
        if (errorElement) {
            errorElement.style.display = 'none';
        }
    }

    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—á–µ—Ç–∞–º–∏ (–∑–∞–≥–ª—É—à–∫–∏)
    function showAddAccountForm() {
        alert('–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç–∞ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–∑–∂–µ');
    }

    function editAccount(accountId) {
        alert(`–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—á–µ—Ç–∞ #${accountId} –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–∑–∂–µ`);
    }

    function deleteAccount(accountId) {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Å—á–µ—Ç?')) {
            alert(`–£–¥–∞–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞ #${accountId} –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–∑–∂–µ`);
        }
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
    function showError(message) {
        showLoading(false);
        const errorElement = document.getElementById('error');
        if (errorElement) {
            errorElement.style.display = 'block';
            errorElement.textContent = message;
        }
    }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é
        const navButtons = document.querySelectorAll('.nav button');
        if (navButtons.length > 0) {
            navButtons[0].classList.add('active');
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        loadDashboard(currentUserId);
    });
</script>
</body>
</html>